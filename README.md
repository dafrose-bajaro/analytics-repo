# analytics-repo

This is a Github repository template for analytics use cases. It uses data from [Project CCHAIN](https://thinkingmachines.github.io/project-cchain/). 

## Sample Use Case
Linking precipitation and dengue cases in selected Philippine cities to find trends and insights. 

## Key files
- **dagster.yaml** configures a Dagster instance by defining settings for storage, run execution, logging, sensors, and schedulers. 
- **dbt_project.yaml** configures a dbt project by defining settings like project name, version, pths, models, and other configurations. 
- **docker-compose.yaml** defines Dagster as the main service for managing data workflows, PostgreSQL for storage, and configures environment variables. 
- **Dockerfile** creates a Docker image to prepare the environment, install dependencies, and set configurations for the workflow to function. 
-**.env.sample** contains a template for keys and credentials. Create an actual **.env** file containing actual keys and credentials. It is worth noting that .env files should be included in gitignore so it does not get uploaded to the remote repository. 
- **.gitattributes** defines attributes and behaviors for specific file types and paths. For this specific repository, we ask that Jupyter notebooks (.json) be read using Python syntax. 
- **.gitignore** defines files to exclude from Git tracking. It uses a Python template and ignores Windows files and the data folder. 
- **.mise.toml** manages development environment and dependencies. 
- **.pre-commit-config.yaml** automates linting, formatting, and validation. It includes the following repos: (a) ruff-pre-commit, (b) sqlfluff, (c) jupytext, and (d) pre-commit hooks. 
- **profiles.yaml** defines how dbt connects to the database. The database type is DuckDB and it allocates 16 thread for parallel processing. 
- **README.md** provides an overview of the repository: its purpose, structure, and instructions for setup. 
- **taskfile.yaml** automates tasks for container management and project workflows. Each task corresponds to a specific command that can be excuted. 
- **.user.yaml** is used by dbt to store an ID for anonymous usage tracking. It is generated automatically when you run a dbt project.

*Note*: All other files are autogenerated. 

## Key folders
- **data** stores the datasets. Git tracking ignores this folder as this mainly includes large downloaded files. It is structured into raw and processed data. 
- **docs** contains additional files documenting details for specific files, folders, functions, and processes.
- **notebooks** contains Jupyter notebooks that can be run for downloading data, doing EDAs, and visualization. Categories under this folder include: (a) download, (b) processing, (c) analysis, and (d) visualization. 
- **src** contains Python scripts for reusable components (e.g., functions, imports, paths) used in the pipeline.
- **tests** contains test scripts to validate the workflow. 


